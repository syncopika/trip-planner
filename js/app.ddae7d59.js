(function(t){function e(e){for(var i,s,r=e[0],d=e[1],l=e[2],c=0,p=[];c<r.length;c++)s=r[c],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(t[i]=d[i]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var d=n[r];0!==o[d]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/trip-planner/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=d;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"019c":function(t,e,n){},"034f":function(t,e,n){"use strict";n("85ec")},"13b7":function(t,e,n){"use strict";n("aa76")},"49e1":function(t,e,n){},"4d92":function(t,e,n){"use strict";n("49e1")},"67b1":function(t,e,n){"use strict";n("019c")},"85ec":function(t,e,n){},"88a0":function(t,e,n){},aa76:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("4de4"),n("4160"),n("a15b"),n("d81d"),n("45fc"),n("b0c0"),n("b64b"),n("d3b7"),n("ac1f"),n("3ca3"),n("466d"),n("1276"),n("159b"),n("ddb0"),n("2b3d"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("9ab4"),o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main"}},[n("div",{attrs:{id:"column1"}},[n("div",{attrs:{id:"container"}},[t.appearanceOptions.showLocationLookup?n("div",{attrs:{id:"searchLocationBar"}},[n("label",{attrs:{for:"nameOfLocation"}},[t._v("location name: ")]),n("input",{attrs:{id:"nameOfLocation",type:"text"}}),n("label",{attrs:{for:"typeOfLocation"}},[t._v(" type of location: ")]),n("select",{attrs:{id:"typeOfLocation"}},t._l(t.overpassApiKeys,(function(e,i){return n("option",{key:"option_overpass_key_"+i},[t._v(" "+t._s(e)+" ")])})),0),n("button",{staticClass:"searchLocationButton",on:{click:t.searchLocationWithOverpass}},[t._v(" search ")]),n("button",{staticClass:"searchLocationButton",on:{click:t.clearSearchResults}},[t._v(" clear ")]),n("p",{attrs:{id:"searchHelp"},on:{click:t.showHelpModal}},[t._v(" help ")])]):t._e(),n("iframe",{attrs:{id:"mapContainer",src:"./mapIframe.html"}})]),t.appearanceOptions.showSuggestedDestinations?n("div",{attrs:{id:"suggestions"}},[n("label",{attrs:{for:"tripSuggestionsOption"}},[t._v(" show suggestions for next dest in trip route? ")]),n("select",{attrs:{id:"tripSuggestionsOption"},on:{change:t.toggleTripSuggestions}},[n("option",{attrs:{value:"yes"}},[t._v(" yes please! ")]),n("option",{attrs:{selected:"",value:"no"}},[t._v(" no thanks ")])]),t.showSuggestedNextHops?n("div",[n("h3",[t._v(" check out these suggestions! ")]),n("ul",t._l(t.suggestedNextDests,(function(e,i){return n("li",{key:"li_nextDest_"+i},[n("p",[t._v(t._s(e))])])})),0)]):t._e()]):t._e()]),n("div",{attrs:{id:"column2"}},[n("navigation",{attrs:{"list-of-trip-names":t.listOfTripNames}}),n("div",{attrs:{id:"tripInfo"}},[n("h1",{staticClass:"tripTitle"},[t._v(t._s(t.tripName))]),n("destinationList",{attrs:{"list-of-dest":t.listOfDest}})],1),t._m(0)],1)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{attrs:{id:"footer"}},[n("a",{attrs:{href:"https://github.com/syncopika/trip-planner",target:"_blank"}},[t._v(" source ")])])}],r=(n("caad"),n("2532"),n("498a"),n("2fe1")),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",{attrs:{id:"stops"},on:{drop:t.onDrop,dragover:function(t){t.preventDefault()},dragenter:function(t){t.preventDefault()}}},t._l(t.listOfDest,(function(t){return n("destination",{key:t.name+t.latitude+t.longitude,attrs:{destination:t}})})),1),n("button",{staticStyle:{"margin-bottom":"5px"},on:{click:t.addDestinationManually}},[t._v(" add destination ")])])},l=[],u=(n("c740"),n("a434"),function(){function t(){this.modalStyle={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"1010",textAlign:"center",padding:"8px",backgroundColor:"#fff",boxShadow:"2px 2px 5px #ccc",border:"1px solid #ccc",overflowY:"auto"},this.modalOverlayStyle={zIndex:"1000",position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"#aaa",opacity:"0.2"}}return t.prototype.createInputModal=function(t){var e=document.createElement("div");e.id="modal",Object.assign(e.style,this.modalStyle);var n=document.createElement("p");n.textContent=t,n.style.marginBottom="0px";var i=document.createElement("input");i.type="text",e.appendChild(n),e.appendChild(document.createElement("br")),e.appendChild(i);var o=document.createElement("button");o.innerText="submit";var a=document.createElement("button");a.innerText="cancel",e.appendChild(document.createElement("br")),e.appendChild(document.createElement("br")),e.appendChild(o),e.appendChild(a);var s=document.createElement("div");return s.id="modal-overlay",Object.assign(s.style,this.modalOverlayStyle),document.body.appendChild(e),document.body.appendChild(s),new Promise((function(t,e){o.onclick=function(){var e=i.value.trim();t(e)},a.onclick=function(){t(void 0)}})).finally((function(){document.body.removeChild(e),document.body.removeChild(s)}))},t.prototype.createMessageModal=function(t,e){var n=document.createElement("div");if(n.id="modal",Object.assign(n.style,this.modalStyle),"string"===typeof t){var i=document.createElement("p");i.textContent=t,e&&(i.style.textAlign="left"),n.appendChild(i)}else t.forEach((function(t){var i=document.createElement("p");i.textContent=t,e&&(i.style.textAlign="left"),n.appendChild(i)}));var o=document.createElement("button");o.innerText="ok",n.appendChild(o);var a=document.createElement("div");return a.id="modal-overlay",Object.assign(a.style,this.modalOverlayStyle),document.body.appendChild(n),document.body.appendChild(a),new Promise((function(t){o.onclick=function(){t(!0)}})).finally((function(){document.body.removeChild(n),document.body.removeChild(a)}))},t.prototype.createQuestionModal=function(t){var e=document.createElement("div");e.id="modal",Object.assign(e.style,this.modalStyle);var n=document.createElement("p");n.textContent=t,e.appendChild(n);var i=document.createElement("button");i.innerText="ok";var o=document.createElement("button");o.innerText="cancel",e.appendChild(i),e.appendChild(o);var a=document.createElement("div");return a.id="modal-overlay",Object.assign(a.style,this.modalOverlayStyle),document.body.appendChild(e),document.body.appendChild(a),new Promise((function(t){i.onclick=function(){t(!0)},o.onclick=function(){t(!1)}})).finally((function(){document.body.removeChild(e),document.body.removeChild(a)}))},t.prototype.addNewDestinationModal=function(){var t=document.createElement("div");t.id="modal",Object.assign(t.style,this.modalStyle);var e=document.createElement("h1");e.textContent="destination details",t.appendChild(e);var n=document.createElement("div");n.style.display="grid",n.style.gridTemplateColumns="1fr 50%",n.style.gridGap="8px";var i=document.createElement("input");i.type="text",i.name="destinationName",i.value="",i.id="destinationName";var o=document.createElement("label");o.textContent="name: ",o.htmlFor="destinationName",o.style.fontSize="18px",n.appendChild(o),n.appendChild(i);var a=document.createElement("input");a.type="text",a.name="destinationLat",a.value="",a.id="destinationLat";var s=document.createElement("label");s.textContent="latitude: ",s.htmlFor="destinationLat",s.style.fontSize="18px",n.appendChild(s),n.appendChild(a);var r=document.createElement("input");r.type="text",r.name="longitude: ",r.value="",r.id="destinationLong";var d=document.createElement("label");d.textContent="longitude: ",d.htmlFor="destinationLong",d.style.fontSize="18px",n.appendChild(d),n.appendChild(r);var l=document.createElement("textarea");l.id="destinationNotes";var u=document.createElement("label");u.textContent="notes: ",u.htmlFor="destinationNotes",u.style.fontSize="18px",n.appendChild(u),n.appendChild(l),t.appendChild(n),t.appendChild(document.createElement("br"));var c=document.createElement("div");c.id="modal-overlay",Object.assign(c.style,this.modalOverlayStyle),document.body.appendChild(t),document.body.appendChild(c);var p=document.createElement("button");p.innerText="ok";var m=document.createElement("button");return m.innerText="cancel",t.appendChild(p),t.appendChild(m),new Promise((function(t){p.onclick=function(){var e={name:i.value,latitude:parseFloat(a.value),longitude:parseFloat(r.value),notes:l.value};""===e.name||isNaN(e.latitude)||isNaN(e.longitude)?t({}):t(e)},m.onclick=function(){t({})}})).finally((function(){document.body.removeChild(t),document.body.removeChild(c)}))},t}()),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"dest",attrs:{id:t.destination.name+"_dest",draggable:""},on:{mouseover:t.highlightBorder,mouseleave:t.dehighlightBorder,dragstart:t.onDragStart}},[n("h1",{attrs:{id:t.destination.name},on:{click:t.toggleVisibility}},[t._v(" "+t._s(t.destination.name)+" ")]),n("p",{staticClass:"delete",attrs:{id:t.destination.name+"_delete"},on:{click:t.removeDestination}},[t._v(" x ")]),n("div",{staticClass:"content",attrs:{id:t.destination.name+"_content"}},[n("div",{attrs:{id:t.destination.name+"_dates"}},[n("div",{staticClass:"row"},[n("Calendar",{ref:t.destination.name+"_fromDate",attrs:{"dest-name":t.destination.name+"_from_",date:t.destination.fromDate,"is-editing":t.isEditing,header:"to"}})],1),n("div",{staticClass:"row"},[n("Calendar",{ref:t.destination.name+"_toDate",attrs:{"dest-name":t.destination.name+"_to_",date:t.destination.toDate,"is-editing":t.isEditing,header:"from"}})],1)]),n("h3",[t._v(" notes: ")]),n("div",[n("textarea",{attrs:{id:t.destination.name+"_notes",rows:"5",cols:"50",disabled:""},domProps:{value:t.destination.notes}}),n("br")]),n("br"),n("h3",[t._v(" images: ")]),n("div",{attrs:{id:t.destination.name+"_images"}},t._l(t.destination.images,(function(e,i){return n("div",{key:"div_"+t.destination.name+"_image_"+i,staticClass:"imageContainer",staticStyle:{"margin-right":"2px"}},[n("img",{key:t.destination.name+"_image_"+i,attrs:{src:e},on:{mouseover:function(t){t.target.style.border="1px solid #e0ffff"},mouseout:function(t){t.target.style.border="1px solid #000"},dblclick:function(e){return t.enlargeImage(e)}}}),t.isEditing?n("h3",{staticStyle:{color:"red"},attrs:{id:"delete_"+t.destination.name+"_image_"+i},on:{click:function(e){return t.deleteImage(e)}}},[t._v(" x ")]):t._e()])})),0),n("br"),t.isEditing?n("div",{staticStyle:{"text-align":"left"},attrs:{id:t.destination.name+"_editRouteColor"}},[n("label",{attrs:{for:t.destination.name+"_routeColor"}},[t._v(" route color: ")]),n("input",{style:"background-color: "+t.destination.routeColor,attrs:{id:t.destination.name+"_routeColor",name:t.destination.name+"_routeColor",type:"text",size:"7"},domProps:{value:t.destination.routeColor}}),n("button",{staticStyle:{display:"inline-block"},attrs:{id:t.destination.name+"_routeColor_btn"},on:{click:t.showColorWheel}},[t._v(" show color wheel ")])]):t._e(),t.isEditing?t._e():n("h3",[t._v(" route color: "),n("span",{style:"background-color: "+t.destination.routeColor},[t._v(t._s(t.destination.routeColor))])]),n("hr"),n("p",{staticClass:"latlng"},[t._v(" lat: "+t._s(t.destination.latitude)+", long: "+t._s(t.destination.longitude)+" ")]),t.isEditing?t._e():n("button",{on:{click:t.toggleEdit}},[t._v(" edit ")]),n("input",{staticClass:"inputFile",attrs:{type:"file",accept:"image/*",id:t.destination.name+"_importImage"},on:{change:t.uploadImage}}),t.isEditing?n("button",{on:{click:t.clickInput}},[t._v(" upload image ")]):t._e(),t.isEditing?n("button",{staticClass:"editButton",on:{click:t.saveChanges}},[t._v(" save ")]):t._e(),t.isEditing?n("button",{staticClass:"editButton",on:{click:t.cancelChanges}},[t._v(" cancel ")]):t._e()])])},p=[],m=(n("cb29"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isEditing?n("div",{staticClass:"calendar"},[n("p",[t._v(" "+t._s(t.header)+": ")]),n("input",{attrs:{id:t.destName+"month",type:"text",size:"2",maxlength:"2",placeholder:"mm"}}),n("p",[t._v(" / ")]),n("input",{attrs:{id:t.destName+"day",type:"text",size:"2",maxlength:"2",placeholder:"dd"}}),n("p",[t._v(" / ")]),n("input",{attrs:{id:t.destName+"year",type:"text",size:"4",maxlength:"4",placeholder:"yyyy"}})]):t._e(),t.isEditing?t._e():n("div",{staticClass:"calendar"},[n("h3",[t._v(t._s(t.header)+": "+t._s(2===t.date.length?"":t.date.replaceAll("-","/"))+" ")])])])}),h=[],g=o["a"].extend({data:function(){return{}},props:{destName:{required:!0,type:String},isEditing:{required:!0,type:Boolean},date:{required:!0,type:String},header:{required:!0,type:String}},methods:{getDateInfo:function(){var t=this.destName,e=document.getElementById(t+"month"),n=document.getElementById(t+"day"),i=document.getElementById(t+"year");return{month:e.value,day:n.value,year:i.value}}},updated:function(){if(this.date&&this.isEditing){var t=this.date.split("-"),e=this.destName,n=document.getElementById(e+"month"),i=document.getElementById(e+"day"),o=document.getElementById(e+"year");n&&t.length>0&&(n.value=t[0]),i&&t.length>1&&(i.value=t[1]),o&&t.length>2&&(o.value=t[2])}}}),v=g,f=(n("67b1"),n("2877")),y=Object(f["a"])(v,m,h,!1,null,"7c9ce71d",null),b=y.exports,D=o["a"].extend({data:function(){return{expanded:!1,isEditing:!1,editSnapshot:{},currDestTitle:""}},components:{Calendar:b},props:{destination:{required:!0,type:Object}},methods:{highlightBorder:function(){var t=this.destination.name,e=document.getElementById(t+"_dest");null!==e&&(e.style.border="2px solid #fff")},dehighlightBorder:function(){var t=this.destination.name,e=document.getElementById(t+"_dest");null!==e&&(e.style.border="2px solid #000")},toggleVisibility:function(){var t=this.destination.name,e=document.getElementById(t+"_content");null!==e&&(this.expanded&&!this.isEditing?e.style.display="none":e.style.display="block"),this.expanded=!this.expanded},toggleEdit:function(t){t.stopPropagation();var e=this.destination.name;this.isEditing=!0,this.editSnapshot=JSON.parse(JSON.stringify(this.destination));var n=document.getElementById(e);null===n||void 0===n||n.setAttribute("contenteditable","true"),this.currDestTitle=(null===n||void 0===n?void 0:n.textContent)||"";var i=document.getElementById(e+"_notes");null!==i&&i.removeAttribute("disabled")},removeDestination:function(t){return Object(i["a"])(this,void 0,Promise,(function(){var e,n,o;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return e=new u,[4,e.createQuestionModal("Are you sure you want to remove this destination?")];case 1:return n=i.sent(),n&&(o=t.target.id.split("_")[0],this.$root.removeDestination(o)),[2]}}))}))},saveChanges:function(){var t,e,n=this.destination.name,i=document.getElementById(n),o=null===(t=null===i||void 0===i?void 0:i.textContent)||void 0===t?void 0:t.trim();i&&(i.textContent=this.currDestTitle,i.setAttribute("contenteditable","false"));var a=document.getElementById(n+"_notes");null===a||void 0===a||a.setAttribute("disabled","true");var s=JSON.parse(JSON.stringify(this.destination));s.notes=null===(e=a)||void 0===e?void 0:e.value,s.newName=o;var r=this.$refs[n+"_fromDate"].getDateInfo(),d=this.$refs[n+"_toDate"].getDateInfo();s.fromDate=r.month+"-"+r.day+"-"+r.year,s.toDate=d.month+"-"+d.day+"-"+d.year;var l=document.getElementById(this.destination.name+"_routeColor");l&&(s.routeColor=l.value);var u=document.getElementById(this.destination.name+"_colorWheel");u&&u.parentNode&&u.parentNode.removeChild(u),this.$root.updateDestination(s),this.isEditing=!1},cancelChanges:function(){var t=this.destination.name,e=document.getElementById(t);null===e||void 0===e||e.setAttribute("contenteditable","false");var n=document.getElementById(t+"_notes");null===n||void 0===n||n.setAttribute("disabled","true");var i=JSON.parse(JSON.stringify(this.editSnapshot));for(var o in i)this.destination[o]=i[o];this.editSnapshot={},this.isEditing=!1},uploadImage:function(t){var e=this,n=new Image,i=new FileReader,o=t.target.files;if(null!==o&&1===o.length){var a=o[0];i.onloadend=function(){var t=i.result;n.src=t;var o=JSON.parse(JSON.stringify(e.destination));o.images.push(t),e.$root.updateDestination(o)},i.readAsDataURL(a)}},clickInput:function(){var t=document.getElementById(this.destination.name+"_importImage");null===t||void 0===t||t.click()},enlargeImage:function(t){var e=document.createElement("div");e.style.opacity="0.98",e.style.backgroundColor="#383838",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.style.textAlign="center",e.style.overflow="scroll",e.style.zIndex="1010",document.body.style.overflow="hidden";var n=new Image;n.src=t.target.src,n.addEventListener("dblclick",(function(){var t;null===(t=null===e||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(e),document.body.style.overflow="visible"})),n.style.marginTop="1%",document.body.clientHeight<n.height||(document.body.clientWidth,n.width),e.appendChild(n);var i=document.createElement("h3");i.textContent="close",i.style.fontFamily="Montserrat",i.style.fontWeight="bold",i.style.fontSize="2em",i.style.color="#fff",i.style.marginTop="1%",i.addEventListener("click",(function(){var t;null===(t=null===e||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(e),document.body.style.overflow="visible"})),e.appendChild(i),document.body.appendChild(e)},deleteImage:function(t){var e=t.target.id.split("_"),n=parseInt(e[e.length-1]);this.destination.images.splice(n,1)},showColorWheel:function(){var t=this,e=document.getElementById(this.destination.name+"_editRouteColor"),n=this.destination.name+"_colorWheel";if(!document.getElementById(n)){var i="200",o=document.createElement("canvas");o.id=n,o.setAttribute("width",i),o.setAttribute("height",i);var a=o.getContext("2d"),s=o.width/2,r=o.height/2,d=90;if(a){for(var l=0;l<=5600;l++){var u=(l-2)*Math.PI/180,c=l*Math.PI/180;a.beginPath(),a.moveTo(s,r),a.arc(s,r,d,u,c,!1),a.closePath();var p=a.createRadialGradient(s,r,0,u,c,d);p.addColorStop(0,"hsla("+l+", 10%, 100%, 1)"),p.addColorStop(1,"hsla("+l+", 100%, 50%, 1)"),a.fillStyle=p,a.fill()}a.fillStyle="#000",a.beginPath(),a.arc(10,10,8,0,2*Math.PI),a.fill(),a.beginPath(),a.arc(30,10,8,0,2*Math.PI),a.stroke(),a.fillStyle="#fff",a.arc(30,10,8,0,2*Math.PI),a.fill(),o.addEventListener("click",(function(e){var n=e.offsetX,i=e.offsetY,a=o.getContext("2d").getImageData(n,i,1,1).data,s="rgb("+a[0]+","+a[1]+","+a[2]+")",r=document.getElementById(t.destination.name+"_routeColor");r&&(r.value=s,r.style.backgroundColor=s)}))}e&&e.appendChild(o)}},onDragStart:function(t){t.stopPropagation();var e=t.target;e&&t.dataTransfer&&(t.dataTransfer.dropEffect="move",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("currentDraggedElementId",e.id))}}}),x=D,_=(n("13b7"),Object(f["a"])(x,c,p,!1,null,"58f3b521",null)),w=_.exports,S=o["a"].extend({props:{listOfDest:{type:Array,required:!0}}}),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["c"])(e,t),e.prototype.onDrop=function(t){var e=t.target;if(t.dataTransfer){var n=t.dataTransfer.getData("currentDraggedElementId");if(e&&n!==e.id&&t.dataTransfer){var i=n.split("_")[0],o=this.listOfDest.findIndex((function(t){return t.name===i})),a=e.id.split("_")[0],s=this.listOfDest.findIndex((function(t){return t.name===a}));this.listOfDest.splice(s,0,this.listOfDest.splice(o,1)[0])}}},e.prototype.addDestinationManually=function(){return Object(i["a"])(this,void 0,Promise,(function(){var t,e,n;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return t={name:"",toDate:"",fromDate:"",latitude:0,longitude:0,notes:"",images:[],routeColor:"#888"},e=new u,[4,e.addNewDestinationModal()];case 1:return n=i.sent(),n&&n.name&&n.latitude&&n.longitude&&(t.name=n.name,t.latitude=n.latitude,t.longitude=n.longitude,t.notes=n.notes||"",isNaN(t.latitude)||isNaN(t.longitude)||(console.log("adding new destination manually"),this.$root.addNewDestination(t))),[2]}}))}))},e=Object(i["b"])([Object(r["a"])({components:{Destination:w}})],e),e}(S),E=O,C=E,k=Object(f["a"])(C,d,l,!1,null,null,null),N=k.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"menuHeader"}},[n("h2",[t._v(" trip-planner ")]),n("ul",[n("li",{staticClass:"selectOption",attrs:{id:"createNewTrip"},on:{click:t.addNewTrip}},[t._v(" new trip ")]),n("li",[t._v(" • ")]),n("li",{staticClass:"dropdown"},[n("p",{staticClass:"dropbtn"},[t._v(" select trip ")]),n("div",{staticClass:"dropContent"},t._l(t.listOfTripNames,(function(e,i){return n("a",{key:e+"_"+i,attrs:{href:"#",id:"tripIndex_"+i},on:{click:t.selectTrip}},[t._v(" "+t._s(e)+" ")])})),0)]),n("li",[t._v(" • ")]),n("li",{staticClass:"selectOption",on:{click:t.triggerImport}},[t._v(" import ")]),n("input",{attrs:{type:"file",id:"importTripData"},on:{change:t.importData}}),n("li",[t._v(" • ")]),n("li",{staticClass:"dropdown"},[n("p",{staticClass:"dropbtn"},[t._v(" export ")]),n("div",{staticClass:"dropContent"},[n("a",{attrs:{href:"#"},on:{click:t.exportData}},[t._v(" export JSON ")]),n("a",{attrs:{href:"#"},on:{click:t.exportCurrTripHTML}},[t._v(" export HTML ")])])]),n("li",[t._v(" • ")]),n("li",{staticClass:"selectOption",on:{click:function(e){t.showOptionsModal=!0}}},[t._v(" options ")]),t.showOptionsModal?n("OptionsModal",{attrs:{initialTheme:t.theme,initialShowLocationLookup:t.showLocationLookup,initialShowSuggestedDestinations:t.showSuggestedDestinations,initialOverpassApiEntity:t.overpassApiEntity,initialNextDestDataSource:t.nextDestDataSource},on:{"update-options":t.handleUpdateOptions,close:function(e){t.showOptionsModal=!1}}}):t._e()],1)])},A=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal"},[n("h1",[t._v(" options ")]),n("p",{staticClass:"experimentalNote"},[t._v(" * = experimental feature. please don't expect too much :) ")]),n("hr"),n("p",{attrs:{id:"locationLookup"}},[t._v(" location lookup* ")]),n("div",{staticClass:"section"},[n("label",{attrs:{id:"toggleLocationSearchBarLabel",for:"toggleLocationSearchBar"}},[t._v(" show location search bar: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.showLocationLookup,expression:"showLocationLookup"}],attrs:{id:"toggleLocationSearchBar",name:"toggleLocationSearchBar",type:"checkbox"},domProps:{checked:t.showLocationLookup,checked:Array.isArray(t.showLocationLookup)?t._i(t.showLocationLookup,null)>-1:t.showLocationLookup},on:{change:function(e){var n=t.showLocationLookup,i=e.target,o=!!i.checked;if(Array.isArray(n)){var a=null,s=t._i(n,a);i.checked?s<0&&(t.showLocationLookup=n.concat([a])):s>-1&&(t.showLocationLookup=n.slice(0,s).concat(n.slice(s+1)))}else t.showLocationLookup=o}}})]),n("hr"),n("p",{attrs:{id:"destinationSuggestions"}},[t._v(" destination suggestions* ")]),n("div",{staticClass:"section"},[n("label",{attrs:{id:"toggleSuggestedDestinationsLabel",for:"toggleSuggestedDestinations"}},[t._v(" toggle suggested destinations: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.showSuggestedDestinations,expression:"showSuggestedDestinations"}],attrs:{id:"toggleSuggestedDestinations",name:"toggleSuggestedDestinations",type:"checkbox"},domProps:{checked:t.showSuggestedDestinations,checked:Array.isArray(t.showSuggestedDestinations)?t._i(t.showSuggestedDestinations,null)>-1:t.showSuggestedDestinations},on:{change:function(e){var n=t.showSuggestedDestinations,i=e.target,o=!!i.checked;if(Array.isArray(n)){var a=null,s=t._i(n,a);i.checked?s<0&&(t.showSuggestedDestinations=n.concat([a])):s>-1&&(t.showSuggestedDestinations=n.slice(0,s).concat(n.slice(s+1)))}else t.showSuggestedDestinations=o}}}),n("p",{attrs:{id:"destinationSuggestionSourceText"}},[t._v(" data source: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.nextDestDataSource,expression:"nextDestDataSource"}],attrs:{type:"radio",name:"destinationSuggestionSource",value:"'database'",id:"databaseOption",disabled:!t.showSuggestedDestinations},domProps:{checked:"database"==t.nextDestDataSource,checked:t._q(t.nextDestDataSource,"'database'")},on:{change:function(e){t.nextDestDataSource="'database'"}}}),n("label",{attrs:{for:"databaseOption"}},[t._v("other users from database")]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.nextDestDataSource,expression:"nextDestDataSource"}],attrs:{type:"radio",name:"destinationSuggestionSource",value:"'overpassApi'",id:"overpassApiOption",disabled:!t.showSuggestedDestinations},domProps:{checked:"overpassApi"==t.nextDestDataSource,checked:t._q(t.nextDestDataSource,"'overpassApi'")},on:{change:function(e){t.nextDestDataSource="'overpassApi'"}}}),n("label",{attrs:{for:"overpassApiOption"}},[t._v("Overpass API")]),n("br"),n("label",{attrs:{for:"overpassApiSelect"}},[t._v("suggested destination type:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOverpassApiEntity,expression:"selectedOverpassApiEntity"}],attrs:{id:"overpassApiSelect",disabled:!t.showSuggestedDestinations},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedOverpassApiEntity=e.target.multiple?n:n[0]}}},t._l(t.overpassApiEntities,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)]),n("hr"),n("p",{attrs:{id:"appearance"}},[t._v("appearance")]),n("div",{staticClass:"section"},[n("label",{attrs:{for:"themeSelect"}},[t._v("theme:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedTheme,expression:"selectedTheme"}],attrs:{id:"themeSelect"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedTheme=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"pastel"},domProps:{selected:"pastel"===t.selectedTheme}},[t._v(" pastel ")]),n("option",{attrs:{value:"gray"},domProps:{selected:"gray"===t.selectedTheme}},[t._v(" gray ")]),n("option",{attrs:{value:"beach"},domProps:{selected:"beach"===t.selectedTheme}},[t._v(" beach ")])])]),n("hr"),n("div",{attrs:{id:"buttons"}},[n("button",{on:{click:t.updateOptions}},[t._v(" ok ")]),n("button",{on:{click:function(e){return t.$emit("close")}}},[t._v(" cancel ")])])]),n("div",{staticClass:"modalOverlay"})])},L=[],P=o["a"].extend({props:{initialTheme:String,initialShowLocationLookup:Boolean,initialShowSuggestedDestinations:Boolean,initialOverpassApiEntity:String,initialNextDestDataSource:String},data:function(){return{nextDestDataSource:this.initialNextDestDataSource,selectedOverpassApiEntity:this.initialOverpassApiEntity,mapType:"",selectedTheme:this.initialTheme,showLocationLookup:this.initialShowLocationLookup,showSuggestedDestinations:this.initialShowSuggestedDestinations,overpassApiEntities:["restaurant","arts_centre","library","aquarium","attraction","hotel","museum"]}},methods:{updateOptions:function(){var t={theme:this.selectedTheme,showLocationLookup:this.showLocationLookup,showSuggestedDestinations:this.showSuggestedDestinations,nextDestDataSource:this.nextDestDataSource,overpassApiEntity:this.selectedOverpassApiEntity,mapType:""};this.$emit("update-options",t),this.$emit("close")}}}),B=P,M=(n("cd89"),Object(f["a"])(B,I,L,!1,null,"7d07ca06",null)),j=M.exports,F=o["a"].extend({props:{listOfTripNames:{required:!0,type:Array}},components:{OptionsModal:j},data:function(){return{mapType:"",theme:"pastel",showLocationLookup:!1,showSuggestedDestinations:!1,showOptionsModal:!1,overpassApiEntity:"restaurant",nextDestDataSource:"overpassApi"}},methods:{addNewTrip:function(){return Object(i["a"])(this,void 0,Promise,(function(){var t,e;return Object(i["d"])(this,(function(n){switch(n.label){case 0:return t=new u,[4,t.createInputModal("please enter the name of the new trip:")];case 1:return e=n.sent(),e&&this.$root.addNewTrip(e),[2]}}))}))},selectTrip:function(t){if(t){var e=parseInt(t.target.id.split("_")[1]);this.$root.selectTrip(e)}},triggerImport:function(){if(confirm("Do you want to save or export your current data first? Importing will overwrite your current trip data.")){var t=document.getElementById("importTripData");null===t||void 0===t||t.click()}},importData:function(t){this.$root.importData(t)},exportData:function(){this.$root.exportData()},exportCurrTripHTML:function(){this.$root.exportCurrTripHTML()},saveData:function(){},handleUpdateOptions:function(t){this.theme=t.theme,this.showLocationLookup=t.showLocationLookup,this.showSuggestedDestinations=t.showSuggestedDestinations,this.overpassApiEntity=t.overpassApiEntity,this.nextDestDataSource=t.nextDestDataSource,t.showSuggestedDestinations&&"overpassApi"===t.nextDestDataSource?this.$root.setOverpassApiUse(!0,t.overpassApiEntity):this.$root.setOverpassApiUse(!1),this.$root.updateAppearancePerOptions(t)}}}),q=F,$=(n("4d92"),Object(f["a"])(q,T,A,!1,null,"15aa120a",null)),H=$.exports,R=o["a"].extend({props:{listOfDest:{required:!0,type:Array},tripName:{required:!0,type:String},listOfTripNames:{required:!0,type:Array},suggestedNextDests:{required:!0,type:Array},appearanceOptions:{required:!0,type:Object}}}),J=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showSuggestedNextHops=!1,e.overpassApiKeys=["shop","amenity"],e}return Object(i["c"])(e,t),e.prototype.created=function(){var t=this;this.$watch("listOfDest",(function(e){t.updateMap(e),t.showSuggestedNextHops&&t.updateSuggestedNextHops(t.suggestedNextDests)}),{deep:!0}),this.$watch("suggestedNextDests",(function(){t.showSuggestedNextHops&&t.updateSuggestedNextHops(t.suggestedNextDests)}),{deep:!0})},e.prototype.dispatchEventToMap=function(t,e){var n=new CustomEvent(t,{detail:e}),i=document.getElementById("mapContainer");null!==i&&null!==i.contentDocument&&i.contentDocument.dispatchEvent(n)},e.prototype.updateMap=function(t){this.dispatchEventToMap("updateMap",t)},e.prototype.updateSuggestedNextHops=function(t){this.dispatchEventToMap("updateSuggestedNextHops",t)},e.prototype.toggleTripSuggestions=function(){this.showSuggestedNextHops=!this.showSuggestedNextHops,this.showSuggestedNextHops?this.updateSuggestedNextHops(this.suggestedNextDests):this.updateSuggestedNextHops([])},e.prototype.toggleTripTitleEdit=function(t){return Object(i["a"])(this,void 0,Promise,(function(){var e,n,o;return Object(i["d"])(this,(function(i){return e=t.target,null===e||(e.classList.contains("tripTitle")?e.setAttribute("contenteditable","true"):(n=document.querySelector(".tripTitle"),n&&(o=n.textContent?n.textContent.trim():"",o!==this.tripName&&this.listOfTripNames.includes(o)?n.textContent=this.tripName:this.$root.updateTripName(o),n.setAttribute("contenteditable","false")))),[2]}))}))},e.prototype.searchLocationWithOverpass=function(){var t=this,e=document.getElementById("nameOfLocation").value,n=document.getElementById("typeOfLocation");if(e&&n){var o=n.options[n.selectedIndex].value;this.$root.getSearchResultsFromOverpass(o,"name",e).then((function(n){return Object(i["a"])(t,void 0,void 0,(function(){var t;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return this.dispatchEventToMap("showSearchResults",n),t=new u,[4,t.createMessageModal(n.length+" result(s) found for: "+e)];case 1:return i.sent(),[2]}}))}))}))}},e.prototype.clearSearchResults=function(){this.dispatchEventToMap("clearSearchResults",[])},e.prototype.showHelpModal=function(){return Object(i["a"])(this,void 0,Promise,(function(){var t;return Object(i["d"])(this,(function(e){switch(e.label){case 0:return t=new u,[4,t.createMessageModal(["This feature allows you to search for a certain location by name using the Overpass API within a 20000m radius of the last destination in your list.","Currently you can only query for shops (e.g. Costco, Safeway, etc.) or amenities (e.g. McDonald's, see https://wiki.openstreetmap.org/wiki/Key:amenity) but hopefully more to come eventually!"],!0)];case 1:return e.sent(),[2]}}))}))},e.prototype._handleIframeLogs=function(t){console.log(t)},e.prototype._handleReady=function(){console.log("got iframe ready message!!"),this.updateMap(this.listOfDest),this.showSuggestedNextHops&&this.updateSuggestedNextHops(this.suggestedNextDests)},e.prototype.mounted=function(){window.document.addEventListener("imready",this._handleReady,!1),window.document.addEventListener("iframeLogs",this._handleIframeLogs,!1),window.document.addEventListener("click",this.toggleTripTitleEdit)},e=Object(i["b"])([Object(r["a"])({components:{DestinationList:N,Navigation:H}})],e),e}(R),z=J,K=z,U=(n("034f"),Object(f["a"])(K,a,s,!1,null,null,null)),W=U.exports,G=n("bc3a"),Q=n.n(G);o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(W,{props:{listOfDest:this.tripData[this.currTripIndex].listOfDest,tripName:this.tripData[this.currTripIndex].tripName,listOfTripNames:this.tripData.map((function(t){return t.tripName})),suggestedNextDests:this.suggestedNextDests,appearanceOptions:this.appearanceOptions}})},data:{tripData:[{tripName:"my first trip",listOfDest:[{name:"test",latitude:38.9486650738765,longitude:-77.01459411621002,notes:"hello world",fromDate:"01-01-2020",toDate:"01-05-2020",images:[],routeColor:"#888"},{name:"test2",latitude:38.982833520960156,longitude:-76.95210937499908,notes:"hello world2",fromDate:"01-05-2020",toDate:"01-07-2020",images:[],routeColor:"#888"}]}],username:"user1",currTripIndex:0,suggestedNextDests:[],canGetSuggestedNextDests:!1,useOverpassAPI:!1,overpassApiEntityToFind:"restaurant",overpassApiKeyToFind:"amenity",overpassApiEntityKeyMap:{arts_centre:"amenity",library:"amenity",restaurant:"amenity",aquarium:"tourism",attraction:"tourism",hotel:"tourism",museum:"tourism"},appearanceOptions:{showLocationLookup:!1,showSuggestedDestinations:!1},fakeSuggestions:[{username:"test_user1",destname:"test_place1",tripname:"test_trip1",latitude:39.00283352096016,longitude:-76.55210937499908,index:0,metadata:{notes:"hello world2 sdfsdf",fromDate:"01-05-2020",toDate:"01-07-2020",images:[],routeColor:"#888"}},{username:"test_user1",destname:"test_place2",tripname:"test_trip1",latitude:39.048987979347004,longitude:-76.91640380859292,index:1,metadata:{notes:"hello world2 sdfsdf sdfgsdfg",fromDate:"01-05-2020",toDate:"01-07-2020",images:[],routeColor:"#888"}},{username:"test_user1",destname:"test_place3",tripname:"test_trip1",latitude:38.848987979347,longitude:-77.01640380859293,index:2,metadata:{notes:"hello world2 sdfsdf sdfgsdfg",fromDate:"01-05-2020",toDate:"01-07-2020",images:[],routeColor:"#888"}},{username:"test_user1",destname:"test_place4",tripname:"test_trip1",latitude:37.948987979347,longitude:-77.01640380859293,index:3,metadata:{notes:"something",fromDate:"01-05-2020",toDate:"01-07-2020",images:[],routeColor:"#888"}}]},methods:{requestSuggestedNextHops:function(t,e){var n=this;return new Promise((function(i){Q.a.get("http://localhost:8081/api/destinations?username="+n.username+"&latitude="+t+"&longitude="+e+"&radius=20").then((function(t){var e=t.data.destinations;i(e)})).catch((function(t){i([])}))}))},findDestination:function(t){var e,n,o=this.tripData[this.currTripIndex].listOfDest;try{for(var a=Object(i["e"])(o),s=a.next();!s.done;s=a.next()){var r=s.value;if(r.name===t)return!0}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return!1},removeDestination:function(t){var e=this.tripData[this.currTripIndex].listOfDest;this.tripData[this.currTripIndex].listOfDest=e.filter((function(e){return e.name!==t})),this.canGetSuggestedNextDests||(this.suggestedNextDests=this.getFakeSuggestions())},updateDestination:function(t){var e=this.tripData[this.currTripIndex].listOfDest,n=t.name,i=!1,o="";if(t.newName){o=t.newName;var a=this.findDestination(o);n===o||a?n!==o&&a&&alert("Can't change name because a destination already exists with the same name!"):i=!0}for(var s=0;s<e.length;s++){var r=e[s];if(r.name===n){r.notes=t.notes,r.fromDate=t.fromDate,r.toDate=t.toDate,r.images=t.images,r.routeColor=t.routeColor,r.name=i?o:n;break}}},updateTripName:function(t){if(!this.tripData.some((function(e){return e.tripName===t}))){var e=this.tripData[this.currTripIndex];e.tripName=t,console.log("trip name updated")}},addNewDestination:function(t){this.tripData[this.currTripIndex].listOfDest.push(t);var e=new CustomEvent("updateMap",{detail:this.tripData[this.currTripIndex].listOfDest}),n=document.getElementById("mapContainer");null!==n&&null!==n.contentDocument&&n.contentDocument.dispatchEvent(e)},addNewTrip:function(t){var e={tripName:t,listOfDest:[]};this.tripData.push(e),this.currTripIndex=this.tripData.length-1},selectTrip:function(t){this.currTripIndex=t},importData:function(t){var e=this,n=new FileReader,i=t.target.files;if(null!==i&&1===i.length){var o=i[0];o&&(n.onload=function(){return function(t){var i=JSON.parse(n.result);i.forEach((function(t){t.tripName&&t.listOfDest||alert("sorry, trip data could not be imported! tripName and listOfDest fields must be provided for each trip.")})),e.tripData=i,e.currTripIndex=0}}(),n.readAsText(o))}},exportData:function(){return Object(i["a"])(this,void 0,Promise,(function(){var t,e,n,o,a,s,r,d,l,c,p,m,h,g,v,f,y;return Object(i["d"])(this,(function(b){switch(b.label){case 0:t=JSON.parse(JSON.stringify(this.tripData));try{for(e=Object(i["e"])(t),n=e.next();!n.done;n=e.next()){o=n.value;try{for(f=void 0,a=Object(i["e"])(o.listOfDest),s=a.next();!s.done;s=a.next())r=s.value,r.images=[]}catch(D){f={error:D}}finally{try{s&&!s.done&&(y=a.return)&&y.call(a)}finally{if(f)throw f.error}}}}catch(x){g={error:x}}finally{try{n&&!n.done&&(v=e.return)&&v.call(e)}finally{if(g)throw g.error}}return d=JSON.stringify(t,null,4),l=new Blob([d],{type:"application/json"}),c=URL.createObjectURL(l),p=document.createElement("a"),p.href=c,m=new u,[4,m.createInputModal("What would you like to name the exported file?")];case 1:return h=b.sent(),h&&(p.download=h?h+".json":"trip-planner-data.json",p.click()),[2]}}))}))},exportCurrTripHTML:function(){var t=this.tripData[this.currTripIndex].tripName,e="<style>body{font-family:sans-serif;}</style>",n="<!doctype html><html><head><title>"+t+"</title>"+e+"</head><body><h1>"+t+"</h1><hr /><br />",i="",o=this.tripData[this.currTripIndex].listOfDest;o.forEach((function(t){var e=t.notes.split("\n").map((function(t){return"<p>"+t+"</p>"})).join(""),o=t.notes.match(/@[0-9]+.[0-9]+,[0-9]+.[0-9]+/g);if(o){var a=o[0].substring(1),s="<iframe src='https://maps.google.com/maps?&q="+a+"&output=embed' width='425' height='350' frameborder='0'  \n        scrolling='no' marginheight='0' marginwidth='0'></iframe>";i="<h2>"+t.name+"</h2><h3>from: "+t.fromDate+", to: "+t.toDate+"</h3>"+e+s+"<br />"}else{s="<iframe src='https://maps.google.com/maps?&q="+t.latitude+","+t.longitude+"&output=embed' width='425' height='350' frameborder='0'  \n        scrolling='no' marginheight='0' marginwidth='0'></iframe>";i="<h2>"+t.name+"</h2><h3>from: "+t.fromDate+", to: "+t.toDate+"</h3>"+e+s+"<br />"}n+=i})),n+="</body></html>";var a=window.open(""+window.location.href+t,"_blank");a&&(a.document.write(n),a.document.close())},getFakeSuggestions:function(){var t=this.tripData[this.currTripIndex].listOfDest;if(t.length){var e=t[t.length-1].latitude*Math.PI/180,n=t[t.length-1].longitude*Math.PI/180,i=this.fakeSuggestions.filter((function(t){var i=t.longitude*Math.PI/180,o=t.latitude*Math.PI/180;return 6371*Math.acos(Math.sin(e)*Math.sin(o)+Math.cos(e)*Math.cos(o)*Math.cos(n-i))<=20}));return i}return[]},_makeOverpassRequest:function(t){var e="https://overpass-api.de/api/interpreter",n={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}};function i(t){var e=t.elements;return console.log(e),e.filter((function(t){return t.tags&&t.lon&&t.lat})).map((function(t){return{latitude:t.lat,longitude:t.lon,destname:t.tags.name,website:t.tags.website,type:t.tags.tourism}}))}return new Promise((function(o){Q.a.post(e,"data="+t,n).then((function(t){o(i(t.data))}))}))},getLocationsFromOverpass:function(t,e,n,i){var o="%5Bout%3Ajson%5D%5Btimeout%3A25%5D%3B%0A(%0Anode%5B%22"+n+"%22%3D%22"+i+"%22%5D(around%3A20000%2C"+t+"%2C+"+e+")%3B%0A)%3B%0Aout+body+5%3B%0A%3E%3B%0Aout+skel+qt%3B";return this._makeOverpassRequest(o)},searchLocationsFromOverpass:function(t,e,n,i,o){var a="%5Bout%3Ajson%5D%5Btimeout%3A25%5D%3B%0A(%0A++nwr%5B%22"+n+"%22%5D%5B%22"+i+"%22%3D%22"+o+"%22%5D(around%3A20000%2C"+t+"%2C"+e+")%3B%0A)%3B%0Aout+body%3B%0A%3E%3B%0Aout+skel+qt%3B";return this._makeOverpassRequest(a)},getSuggestionsFromOverpass:function(t,e){var n=this.tripData[this.currTripIndex].listOfDest;return this.getLocationsFromOverpass(n[n.length-1].latitude,n[n.length-1].longitude,t,e)},getSearchResultsFromOverpass:function(t,e,n){var i=this.tripData[this.currTripIndex].listOfDest;return this.searchLocationsFromOverpass(i[i.length-1].latitude,i[i.length-1].longitude,t,e,n)},setOverpassApiUse:function(t,e){var n=this;if(this.useOverpassAPI=t,t){var i=this.overpassApiEntityKeyMap;e&&(this.overpassApiEntityToFind=e,this.overpassApiKeyToFind=i[e],this.getSuggestionsFromOverpass(this.overpassApiKeyToFind,this.overpassApiEntityToFind).then((function(t){n.suggestedNextDests=t})))}},updateAppearancePerOptions:function(t){this.appearanceOptions.showLocationLookup=t["showLocationLookup"],this.appearanceOptions.showSuggestedDestinations=t["showSuggestedDestinations"],this.changeStyleTheme(t["theme"])},getCurrentOverpassAPIOptions:function(){return{useOverpassAPI:this.useOverpassAPI,selectedOverpassApiEntity:this.overpassApiEntityToFind,overpassEntities:Object.keys(this.overpassApiEntityKeyMap)}},getNextDestSuggestions:function(){var t=this;this.useOverpassAPI?this.getSuggestionsFromOverpass(this.overpassApiKeyToFind,this.overpassApiEntityToFind).then((function(e){t.suggestedNextDests=e})):this.suggestedNextDests=this.getFakeSuggestions()},changeMapStyle:function(t){var e=new CustomEvent("changeMapStyle",{detail:t}),n=document.getElementById("mapContainer");null!==n&&null!==n.contentDocument&&n.contentDocument.dispatchEvent(e)},changeStyleTheme:function(t){"pastel"===t?(document.documentElement.style.setProperty("--menu-header-bg-color","var(--pale-yellow)"),document.documentElement.style.setProperty("--destination-bg-color","var(--yellow-green)"),document.documentElement.style.setProperty("--column-1-bg-color","var(--pale-blue)"),document.documentElement.style.setProperty("--column-2-bg-color","var(--pale-yellow)"),document.documentElement.style.setProperty("--destination-list-bg-color","var(--pale-orange)")):"gray"===t?(document.documentElement.style.setProperty("--menu-header-bg-color","var(--light-gray)"),document.documentElement.style.setProperty("--destination-bg-color","var(--white)"),document.documentElement.style.setProperty("--column-1-bg-color","var(--light-gray)"),document.documentElement.style.setProperty("--column-2-bg-color","var(--grayish-red)"),document.documentElement.style.setProperty("--destination-list-bg-color","var(--light-grayish-orange)")):"beach"===t&&(document.documentElement.style.setProperty("--menu-header-bg-color","var(--soft-blue)"),document.documentElement.style.setProperty("--destination-bg-color","var(--sky-blue)"),document.documentElement.style.setProperty("--column-1-bg-color","var(--sky-blue)"),document.documentElement.style.setProperty("--column-2-bg-color","var(--pale-turquoise)"),document.documentElement.style.setProperty("--destination-list-bg-color","var(--oasis)"))}},mounted:function(){var t=this;document.addEventListener("addDest",(function(e){var n=e.detail;if(n){var i={name:n.name,latitude:n.latitude,longitude:n.longitude,toDate:"",fromDate:"",notes:"",images:[],routeColor:"#888"};t.canGetSuggestedNextDests&&!t.useOverpassAPI?t.requestSuggestedNextHops(n.latitude,n.longitude).then((function(e){t.suggestedNextDests=e,t.tripData[t.currTripIndex].listOfDest.push(i)})):(t.tripData[t.currTripIndex].listOfDest.push(i),t.getNextDestSuggestions())}})),Q.a.get("http://localhost:8081/api/user-destinations/"+this.username).then((function(e){t.tripData=e.data.trips,t.canGetSuggestedNextDests=!0;var n=t.tripData[t.currTripIndex].listOfDest,i=n[n.length-1].latitude,o=n[n.length-1].longitude;t.requestSuggestedNextHops(i,o).then((function(e){t.suggestedNextDests=e}))})).catch((function(e){t.getNextDestSuggestions()}))}}).$mount("#app")},cd89:function(t,e,n){"use strict";n("88a0")}});
//# sourceMappingURL=app.ddae7d59.js.map